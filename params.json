{"name":"Cordova-plugin-appsflyer","tagline":"AppsFlyer plugin for Cordova (Phonegap)","body":"# Cordova / PhoneGap AppsFlyer Plugin for Android and iOS.\r\n\r\n[![Version](https://img.shields.io/npm/v/cordova-plugin-appsflyer.svg?style=flat)](#)\r\n[![Cordova status](https://img.shields.io/badge/cordova-v5.x-blue.svg?style=flat)](#)\r\n[![NPM downloads](https://img.shields.io/npm/dt/cordova-plugin-appsflyer.svg?style=flat)](#)\r\n[![Github Issues](http://githubbadges.herokuapp.com/devdmitryhub/cordova-plugin-appsflyer/issues.svg)](https://github.com/devdmitryhub/cordova-plugin-appsflyer/issues)\r\n\r\n## Documentation\r\n- [Installation](#installation)\r\n\t- [Manual Installation](#manual-installation)\r\n\t- [Phone Gap Build](#phonegap-build)  \r\n- [Usage API](#usage-api)\r\n- [Plugin wiki pages](https://github.com/DevDmitryHub/cordova-plugin-appsflyer/wiki)\r\n- [Change Log](https://github.com/DevDmitryHub/cordova-plugin-appsflyer/releases)\r\n\r\n**Note:** integrated AppsFlyer SDK has restrictions for iOS archs (armv7, arm64, **not** _armv7s_) it's fixed since v.3.3.3\r\n\r\n\r\n## Installation\r\n\r\nUsing the reference to GitHub repository:\r\n\r\n\tcordova plugin add https://github.com/DevDmitryHub/cordova-plugin-appsflyer.git\r\n\r\nUsing plugin name (Cordova v.5+):\r\n\r\n\tcordova plugin add cordova-plugin-appsflyer\r\n\r\n\r\nFor old Cordova versions you should add reference to the plugin script file. \r\nThen reference `appsflyer.js` in `index.html`, after `cordova.js`/`phonegap.js`.\r\nMind the path:\r\n\r\n```html\r\n<script type=\"text/javascript\" src=\"js/plugins/appsflyer.js\"></script>\r\n```\r\n\r\n### Manual Installation\r\n\r\nFor more details about manual installation see wiki page [Manual Installation](https://github.com/DevDmitryHub/cordova-plugin-appsflyer/wiki/Manual-installation) or use author's [page](https://github.com/AppsFlyerSDK/PhoneGap#manual-installation).\r\n\r\n### PhoneGap Build\r\nBuilt against Phonegap >= 3.3.x.\r\n\r\nAdd the following line to your config xml:\r\n\r\n```xml\r\n<gap:plugin name=\"cordova-plugin-appsflyer\" version=\"3.3.1\" />\r\n```\r\n\r\n## Usage API\r\n \r\n\r\n#### 1\\. Set your App_ID (iOS only), Dev_Key and enable AppsFlyer to detect installations, sessions (app opens), and updates.  \r\n**Note:** *This is the minimum requirement to start tracking your app installs and it's already implemented in this plugin. You **_MUST_** modify this call and provide:*\r\n\r\n- *devKey* - Your application devKey provided by AppsFlyer.\r\n- *appId*  - **For iOS only.** Your iTunes application id.\r\n\r\n```javascript\r\ndocument.addEventListener(\"deviceready\", function(){\r\n    var args = [];\r\n    var devKey = \"xxXXXXXxXxXXXXxXXxxxx8\";   // your AppsFlyer devKey\r\n    args.push(devKey);\r\n    var userAgent = window.navigator.userAgent.toLowerCase();\r\n                          \r\n    if (/iphone|ipad|ipod/.test( userAgent )) {\r\n        var appId = \"123456789\";            // your ios app id in app store\r\n        args.push(appId);\r\n    }\r\n\twindow.plugins.appsFlyer.initSdk(args);\r\n}, false);\r\n```\r\n\r\n#### 2\\. Set currency code (optional)\r\n```javascript\r\n//USD is default value. Acceptable ISO(http://www.xe.com/iso4217.php) Currency codes here. Examples:  \r\n//British Pound: window.plugins.appsFlyer.setCurrencyCode(\"GBP\");  \r\nwindow.plugins.appsFlyer.setCurrencyCode(\"USD\");\r\n```\r\n#### 3\\. Set customer user ID (Advance)\r\n*Setting your own custom ID will enable you to cross-reference your own unique ID with AppsFlyer’s user ID and the \r\nother devices’ IDs. This ID will be available at AppsFlyer CSV reports along with postbacks APIs for cross-referencing \r\nwith you internal IDs.*  \r\n**Note:** *The ID must be set during the first launch of the app at the SDK initialization. The best practice is to call to this API during `deviceready` event if possible.*\r\n```javascript\r\nwindow.plugins.appsFlyer.setAppUserId(userId);\r\n```\r\n#### 4\\. In App Events Tracking API (optional)\r\n*These events help you track how loyal users discover your app and attribute them to specific campaign/source.*\r\n- *These in-app events help you track how loyal users discover your app, and attribute them to specific \r\ncampaigns/media-sources. Please take the time define the event/s you would like to measure to allow you \r\nto track ROI (Return on Investment) and LTV (Lifetime Value).*\r\n- *The “trackEvent” method allows you to send in-app events to AppsFlyer analytics. This method allows you to \r\nadd events dynamically by adding them directly to the application code.*\r\n```javascript\r\n// eventName - any string to define the event name. For example: “registration” or “purchase”\r\n// eventValue - the sales value. For example: 0.99 or 0.79\r\nwindow.plugins.appsFlyer.sendTrackingWithEvent(eventName, eventValue);\r\n// window.plugins.appsFlyer.sendTrackingWithEvent(eventName, \"\");\r\n```\r\n##### 4\\.1 Rich In App Events Tracking API (optional)\r\nAppsFlyer’s rich in­app events provide advertisers with the ability to track any post­install event and attribute it to a media source and campaign.\r\nAn in­app event is comprised of an event name and event parameters\r\n\r\n```javascript\r\nvar eventName = \"af_add_to_cart\";\r\nvar eventValues = {\"af_content_id\": \"id123\", \"af_currency\":\"USD\", \"af_revenue\": \"2\"};\r\nwindow.plugins.appsFlyer.trackEvent(eventName, eventValues);\r\n```\r\n#### 5\\. Get AppsFlyer’s Unique Device UID (Advanced)\r\n*Get AppsFlyer’s proprietary device ID. AppsFlyer device ID is the main ID used by AppsFlyer in the Reports and API’s.*\r\n```javascript\r\n// getUserIdCallbackFn - callback function\r\nwindow.plugins.appsFlyer.getAppsFlyerUID(getUserIdCallbackFn);\r\n```\r\n###### Example:\r\n```javascript\r\nvar getUserIdCallbackFn = function(id) {\r\n\talert('received id is: ' + id);\r\n}\r\nwindow.plugins.appsFlyer.getAppsFlyerUID(getUserIdCallbackFn);\r\n```\r\n#### 6\\. Accessing AppsFlyer Attribution / Conversion Data from the SDK (Deferred Deep-linking). \r\nRead more: [Android](http://support.appsflyer.com/entries/69796693-Accessing-AppsFlyer-Attribution-Conversion-Data-from-the-SDK-Deferred-Deep-linking-), [iOS](http://support.appsflyer.com/entries/22904293-Testing-AppsFlyer-iOS-SDK-Integration-Before-Submitting-to-the-App-Store-)  \r\n**Note:** AppsFlyer plugin will fire `onInstallConversionDataLoaded` event with attribution data. You must implement listener to receive the data.\r\n###### Example:\r\n```javascript\r\ndocument.addEventListener('onInstallConversionDataLoaded', function(e){\r\n\tvar attributionData = (JSON.stringify(e.detail));\r\n\talert(attributionData);\r\n}, false);\r\n```\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}